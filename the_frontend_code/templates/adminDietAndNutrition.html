<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>食物与健康</title>
  <!-- Google fonts -->
  <link href="//fonts.googleapis.com/css2?family=Work+Sans:wght@300;400;500&display=swap" rel="stylesheet">
  <link href="//fonts.googleapis.com/css2?family=Libre+Baskerville:wght@400;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="../static/css/semantic.min.css">
  <link rel="stylesheet" href="../static/css/me.css">
  <!-- Template CSS -->
  <link rel="stylesheet" href="assets/css/style-starter.css">
  <!-- 登录css -->
  <link rel="stylesheet" href="../static/css/style.css" type="text/css" media="all">
  <link rel="stylesheet" href="../../static/js/layui/css/layui.css">
</head>

<body>
  <!--header-->
  <header id="site-header" class="fixed-top">
    <div class="container">
      <nav class="navbar navbar-expand-lg navbar-light stroke">
        <a class="navbar-brand" href="index.html">
          <span> 食物</span>
          <span> 与健康</span>
        </a>
        <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarNav"
          aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="fa icon-expand fa-bars"></span>
          <span class="fa icon-close fa-times"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item @@active">
              <a class="nav-link" href="adminHome.html">Home </a>
            </li>
            <li class="nav-item @@active">
              <a class="nav-link" href="adminFoodinfoList.html">食物说</a>
            </li>
            <li class="nav-item active">
              <a class="nav-link" href="adminDietAndNutrition.html">食谱与营养</a>
            </li>
            <li class="nav-item @@active">
              <a class="nav-link" href="adminpro/laydemopro.html">管理员 </a>
            </li>
          </ul>
        </div>

        <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
          <!-- <div class="popup ml-auto">
            <a href="#menu" class="domain" data-toggle="modal" data-target="#DomainModal">
              <div class="hamburger">
                <span class="top-bar"></span>
                <span class="middle-bar"></span>
                <span class="bottom-bar"></span>
              </div>
            </a>
          </div> -->
        </div>

        <!-- toggle switch for light and dark theme -->
        <div class="mobile-position ml-lg-2">
          <nav class="navigation">
            <div class="theme-switch-wrapper">
              <label class="theme-switch" for="checkbox">
                <input type="checkbox" id="checkbox">
                <div class="mode-container">
                  <i class="gg-sun"></i>
                  <i class="gg-moon"></i>
                </div>
              </label>
            </div>
          </nav>
        </div>
        <!-- //toggle switch for light and dark theme -->
      </nav>
    </div>
  </header>
  <!--/header-->

  <div class="header-gap">
  </div>

  <!-- 食谱查询 -->
  <section class="w3l-homeblock1" id="about">
    <div class="midd-w3 py-5">
      <div class="container py-lg-5 py-md-3">
        <div class="row">
          <div class="col-lg-6">
            <span class="text">食谱查询</span>
            <div class="right m-item item m-mobile-hide">
              <!-- 食谱分类列表 -->
              <div class="ui selection compact teal basic dropdown label" style="width: 130px;">
                <input type="hidden" value="高血压食谱" name="type" id="type">
                <i class="dropdown icon"></i>
                <div class="text">高血压食谱</div>
                <div class="menu" id="foodbooktype">
                </div>
              </div>
              <!-- 搜索框 -->
              <div class="ui icon transparent input m-margin-tb-tiny" style="color: rgb(0, 0, 0);margin-left: 90px;"
                target="_self">
                <input style="color: rgb(9, 7, 7)" type="text" name="query" id="foodbook" placeholder="Search....">
                <svg t="1650259061253" class="icon" viewBox="0 0 1024 1024" version="1.1"
                  xmlns="http://www.w3.org/2000/svg" p-id="2574" id="FoodbookQuery" width="20" height="20">
                  <path
                    d="M712.704 220.672c-135.68-135.68-355.84-135.68-491.52 0s-135.68 355.84 0 491.52 355.84 135.68 491.52 0 135.68-355.84 0-491.52zM145.92 787.456C-31.744 610.304-31.744 322.56 145.92 144.896c177.664-177.152 464.896-177.152 642.56 0 177.664 177.664 177.664 464.896 0 642.56s-465.408 177.664-642.56 0z m848.896 206.336c-24.064 24.064-63.488 24.064-87.552 0L819.2 906.24c-24.064-24.064-24.064-63.488 0-87.552 24.064-24.064 63.488-24.064 87.552 0l87.552 87.552c24.576 24.064 24.576 63.488 0.512 87.552z"
                    p-id="2575"></path>
                </svg>
              </div>
            </div>
            <br>
            <br>
            <br>
            <br>
          </div>
          <div class="col-lg-6 mt-lg-0 mt-5">
            <div class="position-relative">
              <img src="../static/images/health.jpeg" alt="" class="radius-image img-fluid">
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- 食谱展示 -->
  <div id="conten" class="typo typo-selection js-toc-content m-padded-lr-responsive m-padded-tb-large"
    style="display:none;">
    <h3 class="ui dividing header" id="foodMenuHT" style="margin-top: 10px;"></h3>
    <p class="text">食谱描述：<span class="text" id="descriptionHT">msg.data</span></p>
    <p class="text">食谱材料：<span class="text" id="formulaHT">msg.data</span></p>
    <p class="text">食谱做法：<span class="text" id="usageHT">msg.data</span></p>
  </div>
  <!-- 未查询到数据页面 -->
  <div id="null" class="typo typo-selection js-toc-content m-padded-lr-responsive m-padded-tb-large"
    style="display:none;">
    <p class="text">暂无相关数据<span class="text" id="descriptionHT"></span></p>
  </div>

  <div class="copyright py-sm-5 py-4 text-center">
    <div class="container">
    </div>
  </div>
  <!-- move top -->
  <button onclick="topFunction()" id="movetop" title="Go to top">
    <span class="fa fa-angle-up"></span>
  </button>
  <script>
    // When the user scrolls down 20px from the top of the document, show the button
    window.onscroll = function () {
      scrollFunction()
    };

    function scrollFunction() {
      if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
        document.getElementById("movetop").style.display = "block";
      } else {
        document.getElementById("movetop").style.display = "none";
      }
    }

    // When the user clicks on the button, scroll to the top of the document
    function topFunction() {
      document.body.scrollTop = 0;
      document.documentElement.scrollTop = 0;
    }
  </script>
  <!-- /move top -->

  <!-- jQuery and Bootstrap JS -->
  <script src="assets/js/jquery-3.3.1.min.js"></script>
  <script src="../static/js/jquery/jquery-3.6.0.min.js"></script>
  <script src="assets/js/theme-change.js"></script><!-- theme switch js (light and dark)-->
  <script src="../../static/js/layui/layui.js" charset="utf-8"></script>
  <script src="https://cdn.jsdelivr.net/semantic-ui/2.2.4/semantic.min.js"></script>

  <!-- 查询食谱 -->
  <script>
    $("#FoodbookQuery").on("click", function () {
      let FoodbookQueryArea = document.getElementById("foodbook")
      console.log($("#foodbook").val() + "======" + $("#type").val())
      $.ajax({
        type: "post",
        dataType: "json",
        url: "http://localhost:8080/query/foodbookquery",
        data: {
          foodmenu: $("#foodbook").val(),
          typew: $("#type").val()
        },
        success: function (msg) {
          if (msg.code == 200) {
            console.log("success")
            FoodbookQueryArea.value = ''
            document.getElementById("foodMenuHT").innerHTML = msg.data.foodMenu
            document.getElementById("descriptionHT").innerHTML = msg.data.description
            document.getElementById("formulaHT").innerHTML = msg.data.formula
            document.getElementById("usageHT").innerHTML = msg.data.usagew
            layui.use('layer', function () {
              var $ = layui.jquery, layer = layui.layer;
              layer.open({
                //layer提供了5种层类型。可传入的值有：0（信息框，默认）1（页面层）2（iframe层）3（加载层）4（tips层）
                type: 1,
                title: $("#type").val(),
                area: ['1200px', '700px'],
                content: $("#conten")//引用的弹出层的页面层的方式加载修改界面表单
              });
            })
          } else if (msg.code == 500) {
            layui.use('layer', function () {
              var $ = layui.jquery, layer = layui.layer;
              layer.open({
                //layer提供了5种层类型。可传入的值有：0（信息框，默认）1（页面层）2（iframe层）3（加载层）4（tips层）
                type: 1,
                title: $("#type").val(),
                area: ['1200px', '700px'],
                content: $("#null")//引用的弹出层的页面层的方式加载修改界面表单
              });
            })
          }
        }
      })
    })
  </script>
  <!-- 查询高血压食谱 -->

  <!-- // 文章类型列表 -->
  <script>
    $('.menu.toggle').click(function () {
      $('.m-item').toggleClass('m-mobile-hide');
    });

    $('.ui.dropdown').dropdown({
      on: 'hover'
    });

    $.ajax({
      url: "http://localhost:8080/admin/showfoodbooktype",//获取食物文章类型列表
      dataType: "json",
      type: "post",
      success: function (msg) {
        // <div class="item" data-value="高血脂">高血脂</div>
        console.log(msg.data[2].name)
        let a = ''
        for (let i = 0; i < msg.data.length; i++) {
          a += '<div class="item" data-value='
            + msg.data[i].name
            + '>'
            + msg.data[i].name
            + '</div>'
        }
        $("#foodbooktype").html(a);
      }
    })
  </script>

  <!-- owlcarousel -->
  <script src="assets/js/owl.carousel.js"></script>

  <!-- MENU-JS -->
  <script>
    $(window).on("scroll", function () {
      var scroll = $(window).scrollTop();

      if (scroll >= 80) {
        $("#site-header").addClass("nav-fixed");
      } else {
        $("#site-header").removeClass("nav-fixed");
      }
    });

    //Main navigation Active Class Add Remove
    $(".navbar-toggler").on("click", function () {
      $("header").toggleClass("active");
    });
    $(document).on("ready", function () {
      if ($(window).width() > 991) {
        $("header").removeClass("active");
      }
      $(window).on("resize", function () {
        if ($(window).width() > 991) {
          $("header").removeClass("active");
        }
      });
    });
  </script>
  <!-- //MENU-JS -->

  <!-- bootstrap -->
  <script src="assets/js/bootstrap.min.js"></script>

</body>

</html>